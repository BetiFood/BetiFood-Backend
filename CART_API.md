# Cart API Documentation

## نظرة عامة
نظام الكارت المبسط يتيح للمستخدمين إدارة وجباتهم المفضلة وحساب التكاليف.

## الميزات المتاحة

### 1. إضافة وجبة للكارت
**POST** `/api/cart/add`
```json
{
  "mealId": "meal_id_here",
  "quantity": 2
}
```

### 2. عرض الكارت
**GET** `/api/cart/`
- يعرض جميع الوجبات في الكارت مع التفاصيل والإجمالي

### 3. تحديث كمية وجبة
**PUT** `/api/cart/update`
```json
{
  "mealId": "meal_id_here",
  "quantity": 3
}
```

### 4. حذف وجبة من الكارت
**DELETE** `/api/cart/remove/:mealId`

### 5. مسح الكارت بالكامل
**DELETE** `/api/cart/clear`

### 6. إحصائيات الكارت
**GET** `/api/cart/stats`
- يعرض إجمالي السعر وعدد العناصر وعدد الوجبات المختلفة

## الاستجابة النموذجية
```json
{
  "success": true,
  "message": "تم إضافة الوجبة للكارت بنجاح",
  "data": {
    "cart": {
      "userId": "user_id",
      "items": [
        {
          "mealId": {
            "_id": "meal_id",
            "name": "اسم الوجبة",
            "price": 50,
            "image": ["image_url"],
            "quantity": 10
          },
          "quantity": 2
        }
      ],
      "updatedAt": "2024-01-01T00:00:00.000Z",
      "expiresAt": "2024-02-01T00:00:00.000Z"
    },
    "total": 100,
    "itemCount": 2
  }
}
```

## الميزات

### التحقق من التوفر
- يتم التحقق من توفر الوجبات قبل الإضافة
- التحقق من الكمية المتوفرة
- حد أقصى للكمية (100)

### انتهاء صلاحية الكارت
- الكارت ينتهي صلاحيته تلقائياً بعد 30 يوم
- يتم تنظيف الكارت تلقائياً من قاعدة البيانات

### حساب تلقائي
- حساب الإجمالي تلقائياً
- حساب عدد العناصر

### الأمان
- جميع العمليات تتطلب تسجيل الدخول
- التحقق من ملكية الكارت
- التحقق من صحة البيانات

## رموز الحالة
- `200`: نجح الطلب
- `201`: تم إنشاء مورد جديد
- `400`: خطأ في البيانات المرسلة
- `404`: المورد غير موجود
- `401`: غير مصرح (تسجيل الدخول مطلوب)
- `500`: خطأ في الخادم 